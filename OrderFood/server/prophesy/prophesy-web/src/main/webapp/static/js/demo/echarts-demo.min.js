$(function () {
    // 基于准备好的dom，初始化echarts图表
    var myChart = echarts.init(document.getElementById('echarts-bar-chart'), 'macarons');
    /*macarons为可选主题*/

    // 过渡---------------------
    myChart.showLoading({
        text: '正在努力的读取数据中...',    //loading
    });

//                    参数配置
    var option = {
    		 title : {
    		        text: '未来一周气温变化'
    		    },
//                        鼠标悬浮交互时的信息提示
        tooltip: {
            trigger: 'axis'
        },
//                        图例,最多一个
        legend: {
            data: ['最高', '最低']
        },
//                        工具箱,最多一个
        toolbox: {
            show: true,
            feature: {
                mark: {show: true},
                dataZoom: {show: true},
                dataView: {show: true},
                magicType: {show: true, type: ['line', 'bar', 'stack', 'tiled']},
                restore: {show: true},
                saveAsImage: {show: true}
            }
        },
        calculable: true,
        dataZoom: {
            show: true,
            realtime: true,
            start: 20,
            end: 80
        },
//                        x轴区间
        xAxis: [
            {
                type: 'category',
                boundaryGap: false,
                data: function () {
                    var list = [];
                    for (var i = 1; i <= 30; i++) {
                        list.push('2013-03-' + i);
                    }
                    return list;
                }()
            }
        ],
//                        y轴
        yAxis: [
            {
                type: 'value'
            }
        ],
//                        y轴随机数模拟
        series: [
            {
                name: '最高',
                type: 'line',
                data: function () {
                    var list = [];
                    for (var i = 1; i <= 30; i++) {
                        list.push(Math.round(Math.random() * 30));
                    }
                    return list;
                }()
            },
            {
                name: '最低',
                type: 'line',
                data: function () {
                    var list = [];
                    for (var i = 1; i <= 30; i++) {
                        list.push(Math.round(Math.random() * 10));
                    }
                    return list;
                }()
            }
        ]
    };
//                    模拟请求阻塞
    setTimeout(function () {
        // ajax getting data...............

        // ajax callback
        myChart.hideLoading();
        // 为echarts对象加载数据
        myChart.setOption(option);
    }, 1500)

});